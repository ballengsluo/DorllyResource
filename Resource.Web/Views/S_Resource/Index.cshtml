@{
    Layout = null;
}
@model List<Resource.Model.T_RoleFunc>
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>资源状态列表</title>
    @Styles.Render("~/Plugins/bootstrap/css/bootstrap.min.css")
    @Styles.Render("~/Plugins/layui/css/layui.css")
    @Styles.Render("~/Plugins/bootstrap-select/css/bootstrap-select.min.css")
    @Styles.Render("~/Plugins/app/css/app.index.css")
    <style>
        .input-group > div {
            margin: 0px;
            padding: 0px;
        }

            .input-group > div .bootstrap-select .form-control {
                border: none;
            }

            .input-group > div .bootstrap-select .btn {
                border-radius: 0px;
            }

            .input-group > div:nth-of-type(2) .bootstrap-select .btn {
                border-left: none;
                border-top-right-radius: 4px;
                border-bottom-right-radius: 4px;
            }
    </style>
</head>
<body>
    <div class="container">
        @Html.Partial("_FuncPage", Model)
        <div class="select-action">
            <div class="row">
                <div class="col-lg-2 col-md-2 col-sm-2">
                    <div class="input-group">
                        <span class="input-group-addon">园区</span>
                        @{ Html.RenderAction("ParkDrop", "Drop", new { pid = "", id = "", model = 2 });}
                    </div>
                </div>
                <div class="col-lg-2 col-md-2 col-sm-2">
                    <div class="input-group">
                        <span class="input-group-addon">资源编号</span>
                        <input type="text" class="form-control pull-right" id="id" />
                    </div>
                </div>
                <div class="col-lg-2 col-md-2 col-sm-2">
                    <div class="input-group">
                        <span class="input-group-addon">资源名称</span>
                        <input type="text" class="form-control pull-right" id="name" />
                    </div>
                </div>
                <div class="col-lg-2 col-md-2 col-sm-2">
                    <div class="input-group">
                        <span class="input-group-addon">状态</span>
                        <select class="selectpicker form-control" id="type">
                            <option value="">全部</option>
                            @*<option value="1">空闲</option>*@
                            <option value="2">占用</option>
                            <option value="3">内部预留</option>
                            <option value="4">外部预留</option>
                        </select>
                    </div>
                </div>

            </div>

            <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="input-group">
                        <span class="input-group-addon">资源类别分组</span>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            @{ Html.RenderAction("ResourceKindDrop", "Drop", new { id = "", model = 2 });}
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            <select class="selectpicker form-control" id="group" title="分组"></select>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                    <div class="input-group">
                        <span class="input-group-addon">查询时间</span>
                        <input class="form-control pull-righ" id="time">
                    </div>
                </div>
                <div class="col-lg-1 col-md-1 col-sm-1">
                    <button type="button" class="btn btn-primary" id="search" data-url="@Url.Action("Search")" style="font-size:15px;">
                        <i class="layui-icon layui-icon-search"></i> 查 询
                    </button>
                </div>
            </div>

        </div>
        <div class="data-action">
            <table class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th>编号</th>
                        <th>名称</th>
                        <th>类别</th>
                        <th>分组</th>
                        <th>园区</th>
                        <th>状态</th>
                        <th>客户</th>
                        <th>使用日期</th>
                    </tr>
                </thead>
                <tbody id="tb"></tbody>
            </table>
        </div>
        <div id="page"></div>
    </div>
    <script id="tableTpl" type="text/html">
        {{each data value i}}
        <tr>
            <td class="key" style="display:none;">{{value.ID}}</td>
            <td>{{value.RID}}</td>
            <td>{{value.RName}}</td>
            <td>{{value.ResourceKindName}}</td>
            <td>{{value.GroupName}}</td>
            <td>{{value.Loc1Name}}</td>
            <td class="status" data-status="{{value.BSType}}">
                {{if value.BSType==1}} 空闲
                {{else if value.BSType==2}}占用
                {{else if value.BSType==3}}预定
                {{else if value.BSType==4}}预留
                {{else}}启用
                {{/if}}
            </td>
            <td>{{value.CustSName}}</td>
            <td>{{value.BegTime}} - {{value.EndTime}}</td>
        </tr>
        {{/each}}
    </script>
    @Scripts.Render("~/Plugins/jquery/jquery-2.2.4.js")
    @Scripts.Render("~/Plugins/bootstrap/js/bootstrap.min.js")
    @Scripts.Render("~/Plugins/layui/layui.js")
    @Scripts.Render("~/Plugins/bootstrap-select/js/bootstrap-select.min.js")
    @Scripts.Render("~/Plugins/artTemplate/template-web.js")
    @Scripts.Render("~/Plugins/app/js/app.common.js")
    @Scripts.Render("~/Plugins/app/js/app.index.js")
    <script>
        $(function () {

            layui.use('laydate', function () {
                var laydate = layui.laydate;
                laydate.render({
                    elem: '#time',
                    range: '~',
                    min: new Date().toLocaleTimeString()
                });
            });
        });
        function paramsSet() {
            return obj = {
                ID: $("#id").val(),
                Name: $("#name").val(),
                Park: $("#park").val(),
                Type: $("#type").val(),
                Kind: $("#kind").val(),
                Group: $("#group").val(),
                Stime: $.trim($("#time").val().split("~")[0]),
                PageIndex: currentNum,
                PageSize: limitCount
            };
        };
    </script>
</body>
</html>
